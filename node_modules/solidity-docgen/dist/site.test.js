"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const test_1 = __importDefault(require("./utils/test"));
const path_1 = __importDefault(require("path"));
const site_1 = require("./site");
/**
 * @param contracts The name of the Solidity file whose contents should be considered.
 */
function testPages(title, contracts, assign, expected) {
    (0, test_1.default)(title, t => {
        const site = (0, site_1.buildSite)(t.context.build, (i, f) => path_1.default.parse(f.absolutePath).name === contracts ? assign(i, f) : undefined);
        const pages = site.pages.map(p => ({
            id: p.id,
            items: p.items.map(i => i.name),
        }));
        t.deepEqual(pages, expected);
    });
}
testPages('assign to single page', 'S08_AB', () => 'index.md', [{ id: 'index.md', items: ['A', 'B'] }]);
testPages('assign to separate pages', 'S08_AB', item => item.name.replace(/V\d+/, ''), [
    { id: 'A', items: ['A'] },
    { id: 'B', items: ['B'] },
]);
//# sourceMappingURL=site.test.js.map